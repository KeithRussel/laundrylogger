{"ast":null,"code":"import _defineProperty from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import M from'materialize-css/dist/js/materialize.min.js';import AuthContext from'../../context/auth/authContext';var Register=function Register(props){var authContext=useContext(AuthContext);var register=authContext.register,error=authContext.error,clearErrors=authContext.clearErrors,isAuthenticated=authContext.isAuthenticated;// const toastDanger = `<span class='red darken-4'>User already exists</span>`;\nuseEffect(function(){if(isAuthenticated){props.history.push('/');}if(error==='User Email already exists'){M.toast({html:'User already exists',classes:'red darken-4'});clearErrors();}// eslint-disable-next-line\n},[error,isAuthenticated,props.history]);var _useState=useState({name:'',email:'',password:'',password2:''}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var name=user.name,email=user.email,password=user.password,password2=user.password2;var onChange=function onChange(e){return setUser(_objectSpread(_objectSpread({},user),{},_defineProperty({},e.target.name,e.target.value)));};var onSubmit=function onSubmit(e){e.preventDefault();if(name===''||email===''||password===''||password2===''){M.toast({html:'Please complete to fill the fields',classes:'red darken-4'});}else if(password!==password2){M.toast({html:'Passwords do not match!',classes:'red darken-4'});}else{register({name:name,email:email,password:password});console.log(name,email,password);}console.log('Register Submit');};return/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"h1\",{className:\"center\"},\"Account \",/*#__PURE__*/React.createElement(\"span\",{className:\"blue-text\"},\"Register\")),/*#__PURE__*/React.createElement(\"form\",{onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"container\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",name:\"name\",value:name,onChange:onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"name\"},\"Name\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{type:\"email\",name:\"email\",value:email,onChange:onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"email\"},\"Email\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password\",value:password,onChange:onChange,minLength:\"6\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password\"},\"Password\")),/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"input\",{type:\"password\",name:\"password2\",value:password2,onChange:onChange,minLength:\"6\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"password2\"},\"Confirm Password\")),/*#__PURE__*/React.createElement(\"button\",{className:\"waves-effect waves-light btn\",type:\"submit\",style:{margin:'0 10px',display:'block'}},\"Register\",/*#__PURE__*/React.createElement(\"i\",{className:\"material-icons right\"},\"send\"))))));};export default Register;","map":{"version":3,"sources":["D:/reactjs/laundry-logger/client/src/components/auth/Register.js"],"names":["React","useState","useContext","useEffect","M","AuthContext","Register","props","authContext","register","error","clearErrors","isAuthenticated","history","push","toast","html","classes","name","email","password","password2","user","setUser","onChange","e","target","value","onSubmit","preventDefault","console","log","margin","display"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport M from 'materialize-css/dist/js/materialize.min.js';\r\nimport AuthContext from '../../context/auth/authContext';\r\n\r\nconst Register = (props) => {\r\n  const authContext = useContext(AuthContext);\r\n\r\n  const { register, error, clearErrors, isAuthenticated } = authContext;\r\n\r\n  // const toastDanger = `<span class='red darken-4'>User already exists</span>`;\r\n\r\n  useEffect(() => {\r\n    if (isAuthenticated) {\r\n      props.history.push('/');\r\n    }\r\n\r\n    if (error === 'User Email already exists') {\r\n      M.toast({ html: 'User already exists', classes: 'red darken-4' });\r\n      clearErrors();\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [error, isAuthenticated, props.history]);\r\n\r\n  const [user, setUser] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    password2: '',\r\n  });\r\n\r\n  const { name, email, password, password2 } = user;\r\n\r\n  const onChange = (e) => setUser({ ...user, [e.target.name]: e.target.value });\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === '' || email === '' || password === '' || password2 === '') {\r\n      M.toast({\r\n        html: 'Please complete to fill the fields',\r\n        classes: 'red darken-4',\r\n      });\r\n    } else if (password !== password2) {\r\n      M.toast({ html: 'Passwords do not match!', classes: 'red darken-4' });\r\n    } else {\r\n      register({\r\n        name,\r\n        email,\r\n        password,\r\n      });\r\n      console.log(name, email, password);\r\n    }\r\n\r\n    console.log('Register Submit');\r\n  };\r\n\r\n  return (\r\n    <div className='container'>\r\n      <h1 className='center'>\r\n        Account <span className='blue-text'>Register</span>\r\n      </h1>\r\n      <form onSubmit={onSubmit}>\r\n        <div className='container'>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <input type='text' name='name' value={name} onChange={onChange} />\r\n              <label htmlFor='name'>Name</label>\r\n            </div>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                type='email'\r\n                name='email'\r\n                value={email}\r\n                onChange={onChange}\r\n              />\r\n              <label htmlFor='email'>Email</label>\r\n            </div>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                type='password'\r\n                name='password'\r\n                value={password}\r\n                onChange={onChange}\r\n                minLength='6'\r\n              />\r\n              <label htmlFor='password'>Password</label>\r\n            </div>\r\n            <div className='input-field col s12'>\r\n              <input\r\n                type='password'\r\n                name='password2'\r\n                value={password2}\r\n                onChange={onChange}\r\n                minLength='6'\r\n              />\r\n              <label htmlFor='password2'>Confirm Password</label>\r\n            </div>\r\n            <button\r\n              className='waves-effect waves-light btn'\r\n              type='submit'\r\n              style={{ margin: '0 10px', display: 'block' }}\r\n            >\r\n              Register\r\n              <i className='material-icons right'>send</i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}