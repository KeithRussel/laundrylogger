{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useReducer}from'react';import axios from'axios';// import uuid from 'react-uuid';\nimport LaundererContext from'./laundererContext';import laundererReducer from'./laundererReducer';import{GET_LAUNDERERS,ADD_LAUNDERER,DELETE_LAUNDERER,LAUNDERER_ERROR,LOG_ERROR}from'../types';var LaundererState=function LaundererState(props){var initialState={// launderers: [\n//   {\n//     id: 1,\n//     firstName: 'Keith',\n//     lastName: 'Russel',\n//   },\n//   {\n//     id: 2,\n//     firstName: 'Kaye',\n//     lastName: 'Smith',\n//   },\n// ],\nlaunderers:[],error:null};var _useReducer=useReducer(laundererReducer,initialState),_useReducer2=_slicedToArray(_useReducer,2),state=_useReducer2[0],dispatch=_useReducer2[1];// Get Launderers\nvar getLaunderers=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.get('/api/launderers');case 3:res=_context.sent;dispatch({type:GET_LAUNDERERS,payload:res.data});_context.next=10;break;case 7:_context.prev=7;_context.t0=_context[\"catch\"](0);dispatch({type:LAUNDERER_ERROR,payload:_context.t0.response.msg});case 10:case\"end\":return _context.stop();}}},_callee,null,[[0,7]]);}));return function getLaunderers(){return _ref.apply(this,arguments);};}();// Add Launderer\nvar addLaunderer=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(launderer){var config,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:config={headers:{'Content-Type':'application/json'}};_context2.prev=1;_context2.next=4;return axios.post('/api/launderers',launderer,config);case 4:res=_context2.sent;dispatch({type:ADD_LAUNDERER,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](1);dispatch({type:LOG_ERROR,payload:_context2.t0.response.msg});case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[1,8]]);}));return function addLaunderer(_x){return _ref2.apply(this,arguments);};}();// const addLaunderer = (launderer) => {\n//   launderer.id = uuid();\n//   dispatch({ type: ADD_LAUNDERER, payload: launderer });\n// };\n// Delete Log\nvar deleteLaunderer=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(id){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.prev=0;_context3.next=3;return axios.delete(\"/api/launderers/\".concat(id));case 3:dispatch({type:DELETE_LAUNDERER,payload:id});_context3.next=9;break;case 6:_context3.prev=6;_context3.t0=_context3[\"catch\"](0);dispatch({type:LAUNDERER_ERROR,payload:_context3.t0.response.msg});case 9:case\"end\":return _context3.stop();}}},_callee3,null,[[0,6]]);}));return function deleteLaunderer(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/React.createElement(LaundererContext.Provider,{value:{launderers:state.launderers,error:state.error,addLaunderer:addLaunderer,getLaunderers:getLaunderers,deleteLaunderer:deleteLaunderer// clearLaunderers,\n}},props.children);};export default LaundererState;","map":{"version":3,"sources":["D:/reactjs/laundry-logger/client/src/context/launderer/LaundererState.js"],"names":["React","useReducer","axios","LaundererContext","laundererReducer","GET_LAUNDERERS","ADD_LAUNDERER","DELETE_LAUNDERER","LAUNDERER_ERROR","LOG_ERROR","LaundererState","props","initialState","launderers","error","state","dispatch","getLaunderers","get","res","type","payload","data","response","msg","addLaunderer","launderer","config","headers","post","deleteLaunderer","id","delete","children"],"mappings":"0dAAA,MAAOA,CAAAA,KAAP,EAAgBC,UAAhB,KAAkC,OAAlC,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA;AACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CAEA,OACEC,cADF,CAEEC,aAFF,CAGEC,gBAHF,CAIEC,eAJF,CAKEC,SALF,KAMO,UANP,CAQA,GAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACC,KAAD,CAAW,CAChC,GAAMC,CAAAA,YAAY,CAAG,CACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,UAAU,CAAE,EAbO,CAcnBC,KAAK,CAAE,IAdY,CAArB,CADgC,gBAkBNb,UAAU,CAACG,gBAAD,CAAmBQ,YAAnB,CAlBJ,4CAkBzBG,KAlByB,iBAkBlBC,QAlBkB,iBAoBhC;AACA,GAAMC,CAAAA,aAAa,0FAAG,iLAEAf,CAAAA,KAAK,CAACgB,GAAN,CAAU,iBAAV,CAFA,QAEZC,GAFY,eAIlBH,QAAQ,CAAC,CACPI,IAAI,CAAEf,cADC,CAEPgB,OAAO,CAAEF,GAAG,CAACG,IAFN,CAAD,CAAR,CAJkB,+EASlBN,QAAQ,CAAC,CACPI,IAAI,CAAEZ,eADC,CAEPa,OAAO,CAAE,YAAIE,QAAJ,CAAaC,GAFf,CAAD,CAAR,CATkB,oEAAH,kBAAbP,CAAAA,aAAa,0CAAnB,CAgBA;AACA,GAAMQ,CAAAA,YAAY,2FAAG,kBAAOC,SAAP,qIACbC,MADa,CACJ,CACbC,OAAO,CAAE,CACP,eAAgB,kBADT,CADI,CADI,yCAOC1B,CAAAA,KAAK,CAAC2B,IAAN,CAAW,iBAAX,CAA8BH,SAA9B,CAAyCC,MAAzC,CAPD,QAOXR,GAPW,gBAQjBH,QAAQ,CAAC,CAAEI,IAAI,CAAEd,aAAR,CAAuBe,OAAO,CAAEF,GAAG,CAACG,IAApC,CAAD,CAAR,CARiB,mFAUjBN,QAAQ,CAAC,CAAEI,IAAI,CAAEX,SAAR,CAAmBY,OAAO,CAAE,aAAIE,QAAJ,CAAaC,GAAzC,CAAD,CAAR,CAViB,sEAAH,kBAAZC,CAAAA,YAAY,6CAAlB,CAaA;AACA;AACA;AACA;AAEA;AACA,GAAMK,CAAAA,eAAe,2FAAG,kBAAOC,EAAP,8JAEd7B,CAAAA,KAAK,CAAC8B,MAAN,2BAAgCD,EAAhC,EAFc,QAIpBf,QAAQ,CAAC,CACPI,IAAI,CAAEb,gBADC,CAEPc,OAAO,CAAEU,EAFF,CAAD,CAAR,CAJoB,kFASpBf,QAAQ,CAAC,CACPI,IAAI,CAAEZ,eADC,CAEPa,OAAO,CAAE,aAAIE,QAAJ,CAAaC,GAFf,CAAD,CAAR,CAToB,qEAAH,kBAAfM,CAAAA,eAAe,8CAArB,CAgBA,mBACE,oBAAC,gBAAD,CAAkB,QAAlB,EACE,KAAK,CAAE,CACLjB,UAAU,CAAEE,KAAK,CAACF,UADb,CAELC,KAAK,CAAEC,KAAK,CAACD,KAFR,CAGLW,YAAY,CAAZA,YAHK,CAILR,aAAa,CAAbA,aAJK,CAKLa,eAAe,CAAfA,eAEA;AAPK,CADT,EAWGnB,KAAK,CAACsB,QAXT,CADF,CAeD,CAxFD,CA0FA,cAAevB,CAAAA,cAAf","sourcesContent":["import React, { useReducer } from 'react';\r\nimport axios from 'axios';\r\n// import uuid from 'react-uuid';\r\nimport LaundererContext from './laundererContext';\r\nimport laundererReducer from './laundererReducer';\r\n\r\nimport {\r\n  GET_LAUNDERERS,\r\n  ADD_LAUNDERER,\r\n  DELETE_LAUNDERER,\r\n  LAUNDERER_ERROR,\r\n  LOG_ERROR,\r\n} from '../types';\r\n\r\nconst LaundererState = (props) => {\r\n  const initialState = {\r\n    // launderers: [\r\n    //   {\r\n    //     id: 1,\r\n    //     firstName: 'Keith',\r\n    //     lastName: 'Russel',\r\n    //   },\r\n    //   {\r\n    //     id: 2,\r\n    //     firstName: 'Kaye',\r\n    //     lastName: 'Smith',\r\n    //   },\r\n    // ],\r\n    launderers: [],\r\n    error: null,\r\n  };\r\n\r\n  const [state, dispatch] = useReducer(laundererReducer, initialState);\r\n\r\n  // Get Launderers\r\n  const getLaunderers = async () => {\r\n    try {\r\n      const res = await axios.get('/api/launderers');\r\n\r\n      dispatch({\r\n        type: GET_LAUNDERERS,\r\n        payload: res.data,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: LAUNDERER_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  // Add Launderer\r\n  const addLaunderer = async (launderer) => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n    };\r\n    try {\r\n      const res = await axios.post('/api/launderers', launderer, config);\r\n      dispatch({ type: ADD_LAUNDERER, payload: res.data });\r\n    } catch (err) {\r\n      dispatch({ type: LOG_ERROR, payload: err.response.msg });\r\n    }\r\n  };\r\n  // const addLaunderer = (launderer) => {\r\n  //   launderer.id = uuid();\r\n  //   dispatch({ type: ADD_LAUNDERER, payload: launderer });\r\n  // };\r\n\r\n  // Delete Log\r\n  const deleteLaunderer = async (id) => {\r\n    try {\r\n      await axios.delete(`/api/launderers/${id}`);\r\n\r\n      dispatch({\r\n        type: DELETE_LAUNDERER,\r\n        payload: id,\r\n      });\r\n    } catch (err) {\r\n      dispatch({\r\n        type: LAUNDERER_ERROR,\r\n        payload: err.response.msg,\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <LaundererContext.Provider\r\n      value={{\r\n        launderers: state.launderers,\r\n        error: state.error,\r\n        addLaunderer,\r\n        getLaunderers,\r\n        deleteLaunderer,\r\n\r\n        // clearLaunderers,\r\n      }}\r\n    >\r\n      {props.children}\r\n    </LaundererContext.Provider>\r\n  );\r\n};\r\n\r\nexport default LaundererState;\r\n"]},"metadata":{},"sourceType":"module"}