{"ast":null,"code":"import _regeneratorRuntime from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";import _asyncToGenerator from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";import _defineProperty from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";import _objectSpread from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"D:\\\\reactjs\\\\laundry-logger\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState,useContext,useEffect}from'react';import LogContext from'../../context/log/logContext';import M from'materialize-css/dist/js/materialize.min.js';import{Modal,Button}from'react-materialize';import OptionLaunderers from'../launderers/OptionLaunderers';var LogModal=function LogModal(){var logContext=useContext(LogContext);// const d = Date(Date.now());\n// let a = d.toString();\nvar _useState=useState({message:'',kilo:'',attention:false,launderer:'',date:Date(Date.now())}),_useState2=_slicedToArray(_useState,2),log=_useState2[0],setLog=_useState2[1];var addLog=logContext.addLog,current=logContext.current,clearCurrent=logContext.clearCurrent,updateLog=logContext.updateLog;// const newDate = new Date();\nuseEffect(function(){if(current!==null){setLog(current);console.log('Edit State');}else{setLog({message:'',kilo:'',attention:false,launderer:'',date:Date(Date.now())});}},[logContext,current]);var message=log.message,kilo=log.kilo,attention=log.attention,launderer=log.launderer;var multiCalls=function multiCalls(e){onChange(e);onCheck(e);};var onChange=function onChange(e){setLog(_objectSpread(_objectSpread({},log),{},_defineProperty({},e.target.name,e.target.value)));};var onCheck=function onCheck(e){var name=e.target.name;setLog(_objectSpread(_objectSpread({},log),{},_defineProperty({},name,e.target.checked)));console.log('onCheck clicked');};var onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(current===null){addLog(log);}else{updateLog(log);console.log('Update Log');}if(message===''||kilo===''||launderer===''){M.toast({html:'Please enter all fields'});}else if(current){console.log(log);M.toast({html:'Log updated!'});}else{console.log(log);M.toast({html:\"Log added\"});}clearAll();case 4:case\"end\":return _context.stop();}}},_callee);}));return function onSubmit(_x){return _ref.apply(this,arguments);};}();var clearAll=function clearAll(){clearCurrent();};return/*#__PURE__*/React.createElement(Modal,{id:\"log-form-modal\",actions:[/*#__PURE__*/React.createElement(Button,{modal:\"close\",node:\"button\",waves:\"green\",onClick:onSubmit},\"Submit\")],bottomSheet:false,fixedFooter:false,header:current?'Edit Laundry Log':'Add Laundry Log'// open={false}\n,options:{dismissible:true,endingTop:'10%',inDuration:250,onCloseEnd:null,onCloseStart:null,onOpenEnd:null,onOpenStart:null,opacity:0.5,outDuration:250,preventScrolling:true,startingTop:'4%'}},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"form\",{className:\"col s12\",onSubmit:onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s12\"},/*#__PURE__*/React.createElement(\"textarea\",{id:\"message\",name:\"message\",value:message,onChange:onChange,className:\"materialize-textarea\"}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"message\",className:current?'active':''},\"Message..\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s3\"},/*#__PURE__*/React.createElement(\"input\",{id:\"kilo\",name:\"kilo\",type:\"number\",value:kilo,onChange:onChange}),/*#__PURE__*/React.createElement(\"label\",{htmlFor:\"kilo\",className:current?'active':''},\"Kilo\"))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"input-field col s6\"},/*#__PURE__*/React.createElement(\"select\",{className:\"browser-default\",name:\"launderer\",value:launderer,onChange:onChange,as:\"select\"},/*#__PURE__*/React.createElement(\"option\",{value:\"\",disabled:true},\"Choose Launderer\"),/*#__PURE__*/React.createElement(OptionLaunderers,{launderer:launderer})))),/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{marginLeft:'0'}},/*#__PURE__*/React.createElement(\"label\",null,/*#__PURE__*/React.createElement(\"input\",{id:\"indeterminate-checkbox\",type:\"checkbox\",checked:attention?true:false,name:\"attention\"// value={attention}\n,onChange:multiCalls// checked={true}\n}),/*#__PURE__*/React.createElement(\"span\",null,\"Urgent\"))))));};export default LogModal;","map":{"version":3,"sources":["D:/reactjs/laundry-logger/client/src/components/logs/LogModal.js"],"names":["React","useState","useContext","useEffect","LogContext","M","Modal","Button","OptionLaunderers","LogModal","logContext","message","kilo","attention","launderer","date","Date","now","log","setLog","addLog","current","clearCurrent","updateLog","console","multiCalls","e","onChange","onCheck","target","name","value","checked","onSubmit","preventDefault","toast","html","clearAll","dismissible","endingTop","inDuration","onCloseEnd","onCloseStart","onOpenEnd","onOpenStart","opacity","outDuration","preventScrolling","startingTop","marginLeft"],"mappings":"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","sourcesContent":["import React, { useState, useContext, useEffect } from 'react';\r\nimport LogContext from '../../context/log/logContext';\r\nimport M from 'materialize-css/dist/js/materialize.min.js';\r\nimport { Modal, Button } from 'react-materialize';\r\nimport OptionLaunderers from '../launderers/OptionLaunderers';\r\n\r\nconst LogModal = () => {\r\n  const logContext = useContext(LogContext);\r\n\r\n  // const d = Date(Date.now());\r\n  // let a = d.toString();\r\n\r\n  const [log, setLog] = useState({\r\n    message: '',\r\n    kilo: '',\r\n    attention: false,\r\n    launderer: '',\r\n    date: Date(Date.now()),\r\n  });\r\n\r\n  const { addLog, current, clearCurrent, updateLog } = logContext;\r\n  // const newDate = new Date();\r\n  useEffect(() => {\r\n    if (current !== null) {\r\n      setLog(current);\r\n      console.log('Edit State');\r\n    } else {\r\n      setLog({\r\n        message: '',\r\n        kilo: '',\r\n        attention: false,\r\n        launderer: '',\r\n        date: Date(Date.now()),\r\n      });\r\n    }\r\n  }, [logContext, current]);\r\n\r\n  const { message, kilo, attention, launderer } = log;\r\n\r\n  const multiCalls = (e) => {\r\n    onChange(e);\r\n    onCheck(e);\r\n  };\r\n\r\n  const onChange = (e) => {\r\n    setLog({ ...log, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const onCheck = (e) => {\r\n    const name = e.target.name;\r\n    setLog({ ...log, [name]: e.target.checked });\r\n    console.log('onCheck clicked');\r\n  };\r\n\r\n  const onSubmit = async (e) => {\r\n    e.preventDefault();\r\n    if (current === null) {\r\n      addLog(log);\r\n    } else {\r\n      updateLog(log);\r\n      console.log('Update Log');\r\n    }\r\n\r\n    if (message === '' || kilo === '' || launderer === '') {\r\n      M.toast({ html: 'Please enter all fields' });\r\n    } else if (current) {\r\n      console.log(log);\r\n      M.toast({ html: 'Log updated!' });\r\n    } else {\r\n      console.log(log);\r\n      M.toast({ html: `Log added` });\r\n    }\r\n\r\n    clearAll();\r\n  };\r\n\r\n  const clearAll = () => {\r\n    clearCurrent();\r\n  };\r\n\r\n  return (\r\n    <Modal\r\n      id='log-form-modal'\r\n      actions={[\r\n        <Button modal='close' node='button' waves='green' onClick={onSubmit}>\r\n          Submit\r\n        </Button>,\r\n      ]}\r\n      bottomSheet={false}\r\n      fixedFooter={false}\r\n      header={current ? 'Edit Laundry Log' : 'Add Laundry Log'}\r\n      // open={false}\r\n      options={{\r\n        dismissible: true,\r\n        endingTop: '10%',\r\n        inDuration: 250,\r\n        onCloseEnd: null,\r\n        onCloseStart: null,\r\n        onOpenEnd: null,\r\n        onOpenStart: null,\r\n        opacity: 0.5,\r\n        outDuration: 250,\r\n        preventScrolling: true,\r\n        startingTop: '4%',\r\n      }}\r\n    >\r\n      {/* <h4>{current ? 'Edit Laundry Log' : 'Add Laundry Log'}</h4> */}\r\n      <div className='row'>\r\n        <form className='col s12' onSubmit={onSubmit}>\r\n          <div className='row'>\r\n            <div className='input-field col s12'>\r\n              <textarea\r\n                id='message'\r\n                name='message'\r\n                value={message}\r\n                onChange={onChange}\r\n                className='materialize-textarea'\r\n              ></textarea>\r\n              <label htmlFor='message' className={current ? 'active' : ''}>\r\n                Message..\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            <div className='input-field col s3'>\r\n              <input\r\n                id='kilo'\r\n                name='kilo'\r\n                type='number'\r\n                value={kilo}\r\n                onChange={onChange}\r\n              />\r\n              <label htmlFor='kilo' className={current ? 'active' : ''}>\r\n                Kilo\r\n              </label>\r\n            </div>\r\n          </div>\r\n          <div className='row'>\r\n            <div className='input-field col s6'>\r\n              <select\r\n                className='browser-default'\r\n                name='launderer'\r\n                value={launderer}\r\n                onChange={onChange}\r\n                as='select'\r\n              >\r\n                <option value='' disabled>\r\n                  Choose Launderer\r\n                </option>\r\n                <OptionLaunderers launderer={launderer} />\r\n              </select>\r\n            </div>\r\n          </div>\r\n          <div className='row' style={{ marginLeft: '0' }}>\r\n            <label>\r\n              <input\r\n                id='indeterminate-checkbox'\r\n                type='checkbox'\r\n                checked={attention ? true : false}\r\n                name='attention'\r\n                // value={attention}\r\n                onChange={multiCalls}\r\n                // checked={true}\r\n              />\r\n              <span>Urgent</span>\r\n            </label>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      {/* <div className='modal-footer'>\r\n        <a\r\n          href='#!'\r\n          className='modal-close waves-effect waves-green btn'\r\n          onClick={onSubmit}\r\n        >\r\n          Submit\r\n        </a>\r\n      </div> */}\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default LogModal;\r\n"]},"metadata":{},"sourceType":"module"}